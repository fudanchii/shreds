+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var a=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed.bs.alert").remove()}var i=t(this),a=i.attr("data-target");a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=t(a);e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),a=i.data("bs.alert");a||i.data("bs.alert",a=new n(this)),"string"==typeof e&&a[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(a)}).emulateTransitionEnd(300):n.$element.focus().trigger(a)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var a=t(this),r=a.data("bs.modal"),o=t.extend({},e.DEFAULTS,a.data(),"object"==typeof n&&n);r||a.data("bs.modal",r=new e(this,o)),"string"==typeof n?r[n](i):o.show&&r.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),a=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},a.data(),n.data());e.preventDefault(),a.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";function e(){t(i).remove(),t(a).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",a="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(i){var a=t(this);if(!a.is(".disabled, :disabled")){var r=n(a),o=r.hasClass("open");if(e(),!o){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),r.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),a.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&r.find(a).focus(),i.click();var s=t("[role=menu] li:not(.divider):visible a",r);if(s.length){var l=s.index(s.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu]",r.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var a=this.options.trigger.split(" "),r=a.length;r--;){var o=a[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,r=a.test(i);r&&(i=i.replace(a,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition(),s=n[0].offsetWidth,l=n[0].offsetHeight;if(r){var u=this.$element.parent(),d=i,p=document.documentElement.scrollTop||document.body.scrollTop,c="body"==this.options.container?window.innerWidth:u.outerWidth(),h="body"==this.options.container?window.innerHeight:u.outerHeight(),f="body"==this.options.container?0:u.offset().left;i="bottom"==i&&o.top+o.height+l-p>h?"top":"top"==i&&o.top-p-l<0?"bottom":"right"==i&&o.right+s>c?"left":"left"==i&&o.left-s<f?"right":i,n.removeClass(d).addClass(i)}var g=this.getCalculatedOffset(i,o,s,l);this.applyPlacement(g,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),a=i[0].offsetWidth,r=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,i.offset(t).addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;if("top"==e&&u!=r&&(n=!0,t.top=t.top+r-u),/bottom|top/.test(e)){var d=0;t.left<0&&(d=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,u=i[0].offsetHeight),this.replaceArrow(d-a+l,l,"left")}else this.replaceArrow(u-r,u,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),a=i.data("bs.tooltip"),r="object"==typeof n&&n;a||i.data("bs.tooltip",a=new e(this,r)),"string"==typeof n&&a[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",a=n.data();t+="Text",a.resetText||n.data("resetText",n[i]()),n[i](a[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),a=i.data("bs.button"),r="object"==typeof n&&n;a||i.data("bs.button",a=new e(this,r)),"toggle"==n?a.toggle():n&&a.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var n=0,i=Array.prototype.slice,a=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(r){}a(e)},t.widget=function(e,n,i){var a,r,o,s,l={},u=e.split(".")[0];e=e.split(".")[1],a=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][a.toLowerCase()]=function(e){return!!t.data(e,a)},t[u]=t[u]||{},r=t[u][e],o=t[u][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},a=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=a,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}(),void 0):(l[e]=i,void 0)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix:e},l,{constructor:o,namespace:u,widgetName:e,widgetFullName:a}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(n){for(var a,r,o=i.call(arguments,1),s=0,l=o.length;l>s;s++)for(a in o[s])r=o[s][a],o[s].hasOwnProperty(a)&&r!==e&&(n[a]=t.isPlainObject(r)?t.isPlainObject(n[a])?t.widget.extend({},n[a],r):t.widget.extend({},r):r);return n},t.widget.bridge=function(n,a){var r=a.prototype.widgetFullName||n;t.fn[n]=function(o){var s="string"==typeof o,l=i.call(arguments,1),u=this;return o=!s&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,s?this.each(function(){var i,a=t.data(this,r);return a?t.isFunction(a[o])&&"_"!==o.charAt(0)?(i=a[o].apply(a,l),i!==a&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,r);e?e.option(o||{})._init():t.data(this,r,new a(o,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var a,r,o,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},a=n.split("."),n=a.shift(),a.length){for(r=s[n]=t.widget.extend({},this.options[n]),o=0;o<a.length-1;o++)r[a[o]]=r[a[o]]||{},r=r[a[o]];if(n=a.pop(),i===e)return r[n]===e?null:r[n];r[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var a,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=a=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),t.each(i,function(i,o){function s(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):void 0}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,d=l[2];d?a.delegate(d,u,s):n.bind(u,s)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var a,r,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(a in r)a in n||(n[a]=r[a]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,a,r){"string"==typeof a&&(a={effect:a});var o,s=a?a===!0||"number"==typeof a?n:a.effect||n:e;a=a||{},"number"==typeof a&&(a={duration:a}),o=!t.isEmptyObject(a),a.complete=r,a.delay&&i.delay(a.delay),o&&t.effects&&t.effects.effect[s]?i[e](a):s!==e&&i[s]?i[s](a.duration,a.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,a,r,o=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),r=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+r+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+r+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+r+"_method=PATCH",n.type="POST"),e+=1,a=t('<iframe src="'+o+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,r=t.isArray(n.paramName)?n.paramName:[n.paramName];a.unbind("load").bind("load",function(){var e;try{if(e=a.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+o+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",a.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",r[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var a=t(e[n]);t(i).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(i)})}),i.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",o),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return e.isDefaultPrevented()?!1:((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}),void 0)},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,a=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&a-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=a,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(a,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,a=e.files[0],r=e.multipart||!t.support.xhrFileUpload,o="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r&&!e.blob&&this._isInstanceOf("File",a)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.name)+'"'),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:o,value:e.blob}):t.each(e.files,function(i,a){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||o,value:a})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(o,e.blob,a.name):t.each(e.files,function(a,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===t.type(e.paramName)&&e.paramName[a]||o,r,r.uploadName||r.name)})),e.data=n):(e.contentType=a.type||"application/octet-stream",e.data=e.blob||a),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",a=(e.prop("files")||[1]).length;a;)i.push(n),a-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var a=t.Deferred(),r=a.promise();return n=n||this.options.context||r,e===!0?a.resolveWith(n,i):e===!1&&a.rejectWith(n,i),r.abort=a.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,a=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,r){return(e||r)&&(n._processQueue=this._processQueue=(this._processQueue||a([this])).pipe(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():a(arguments)}).pipe(e,r)),this._processQueue||a([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,a,r=this,o=e.files[0],s=o.size,l=e.uploadedBytes,u=e.maxChunkSize||s,d=this._blobSlice,p=t.Deferred(),c=p.promise();return this._isXHRUpload(e)&&d&&(l||s>u)&&!e.data?n?!0:l>=s?(o.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",o.error])):(a=function(){var n=t.extend({},e),c=n._progress.loaded;n.blob=d.call(o,l,l+u,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),i=(r._trigger("chunksend",null,n)!==!1&&t.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,o,u){l=r._getUploadedBytes(u)||l+n.chunkSize,c+n.chunkSize-n._progress.loaded&&r._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=o,n.jqXHR=u,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),s>l?a():p.resolveWith(n.context,[i,o,u])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),p.rejectWith(n.context,[t,e,i])})},this._enhancePromise(c),c.abort=function(){return i.abort()},a(),c):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total
},_onDone:function(e,n,i,a){var r=a._progress.total,o=a._response;a._progress.loaded<r&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:r,total:r}),a),o.result=a.result=e,o.textStatus=a.textStatus=n,o.jqXHR=a.jqXHR=i,this._trigger("done",null,a)},_onFail:function(t,e,n,i){var a=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),a.jqXHR=i.jqXHR=t,a.textStatus=i.textStatus=e,a.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,a,r,o,s=this,l=s._getAJAXSettings(n),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((a||s._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&s._getXHRPromise(!1,l.context,a)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._onAlways(t,e,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=t.Deferred(),this._slots.push(r),o=r.pipe(u)):(this._sequence=this._sequence.pipe(u,u),o=this._sequence),o.abort=function(){return a=[void 0,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,a),u())},this._enhancePromise(o)):u()},_onAdd:function(e,n){var i,a,r,o,s=this,l=!0,u=t.extend({},this.options,n),d=n.files,p=d.length,c=u.limitMultiFileUploads,h=u.limitMultiFileUploadSize,f=u.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(u),v=0;if(!h||p&&void 0!==d[0].size||(h=void 0),(u.singleFileUploads||c||h)&&this._isXHRUpload(u))if(u.singleFileUploads||h||!c)if(!u.singleFileUploads&&h)for(r=[],i=[],o=0;p>o;o+=1)g+=d[o].size+f,(o+1===p||g+d[o+1].size+f>h||c&&o+1-v>=c)&&(r.push(d.slice(v,o+1)),a=m.slice(v,o+1),a.length||(a=m),i.push(a),v=o+1,g=0);else i=m;else for(r=[],i=[],o=0;p>o;o+=c)r.push(d.slice(o,o+c)),a=m.slice(o,o+c),a.length||(a=m),i.push(a);else r=[d],i=[m];return n.originalFiles=d,t.each(r||d,function(a,o){var u=t.extend({},n);return u.files=r?o:[o],u.paramName=i[a],s._initResponseObject(u),s._initProgressObject(u),s._addConvenienceMethods(e,u),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var n=e.clone(!0);t("<form></form>").append(n)[0].reset(),e.after(n).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===e[0]?n[0]:i}),e[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,n){var i,a=this,r=t.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,r.resolve(e._file)):e.file(function(t){t.relativePath=n,r.resolve(t)},o):e.isDirectory?(i=e.createReader(),i.readEntries(function(t){a._handleFileTreeEntries(t,n+e.name+"/").done(function(t){r.resolve(t)}).fail(o)},o)):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,a=e.prop("webkitEntries")||e.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(a){i.files=a,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,a={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){a.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),a)!==!1&&n._onAdd(e,a)}))},_onDragOver:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=e.dataTransfer;n&&-1!==t.inArray("Files",n.types)&&this._trigger("dragover",t.Event("dragover",{delegatedEvent:e}))!==!1&&(e.preventDefault(),n.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options;t.each(t(this.element[0].cloneNode(!1)).data(),function(t,i){e._isRegExpOption(t,i)&&(i=e._getRegExp(i)),n[t]=i})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,a=this,r=t.Deferred(),o=r.promise();return o.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),o)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return r.reject(),void 0;e.files=t,n=a._onSend(null,e).then(function(t,e,n){r.resolve(t,e,n)},function(t,e,n){r.reject(t,e,n)})}}),this._enhancePromise(o)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=n(this),o=r.settings;return isNaN(e.datetime)||(0==o.cutoff||a(e.datetime)<o.cutoff)&&t(this).text(i(e.datetime)),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var n=t.trim(e.text());r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(n.length>0)||r.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function i(t){return r.inWords(a(t))}function a(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return e instanceof Date?i(e):"string"==typeof e?i(t.timeago.parse(e)):"number"==typeof e?i(new Date(e)):i(t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,a){var r=t.isFunction(n)?n(a,e):n,o=i.numbers&&i.numbers[a]||a;return r.replace(/%d/i,o)}var i=this.settings.strings,a=i.prefixAgo,r=i.suffixAgo;this.settings.allowFuture&&0>e&&(a=i.prefixFromNow,r=i.suffixFromNow);var o=Math.abs(e)/1e3,s=o/60,l=s/60,u=l/24,d=u/365,p=45>o&&n(i.seconds,Math.round(o))||90>o&&n(i.minute,1)||45>s&&n(i.minutes,Math.round(s))||90>s&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>u&&n(i.days,Math.round(u))||45>u&&n(i.month,1)||365>u&&n(i.months,Math.round(u/30))||1.5>d&&n(i.year,1)||n(i.years,Math.round(d)),c=i.wordSeparator||"";return void 0===i.wordSeparator&&(c=" "),t.trim([a,p,r].join(c))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(e){var n=r.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return r.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var o={init:function(){var n=t.proxy(e,this);n();var i=r.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=r.parse(n);t(this).data("timeago",{datetime:i}),r.settings.localeTitle&&t(this).attr("title",i.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:r.parse(r.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var n=t?o[t]:o.init;if(!n)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){n.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),jQuery.timeago.settings.strings={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1yr",years:"%dyr",wordSeparator:" ",numbers:[]},function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,i){var a=["opacity",e,~~(100*t),n,i].join("-"),r=.01+n/i*100,o=Math.max(1-(1-t)/e*(100-r),t),s=d.substring(0,d.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return c[a]||(h.insertRule("@"+l+"keyframes "+a+"{0%{opacity:"+o+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",h.cssRules.length),c[a]=1),a}function i(t,e){var n,i,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<p.length;i++)if(n=p[i]+e,void 0!==a[n])return n;return void 0!==a[e]?e:void 0}function a(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function o(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function l(t){return"undefined"==typeof this?new l(t):(this.opts=r(t||{},l.defaults,f),void 0)}function u(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}h.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(t,i){function r(){return a(n("group",{coordsize:d+" "+d,coordorigin:-u+" "+-u}),{width:d,height:d})}function o(t,o,l){e(c,e(a(r(),{rotation:360/i.lines*t+"deg",left:~~o}),e(a(n("roundrect",{arcsize:i.corners}),{width:u,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,t),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,u=i.length+i.width,d=2*u,p=2*-(i.width+i.length)+"px",c=a(r(),{position:"absolute",top:p,left:p});if(i.shadow)for(l=1;l<=i.lines;l++)o(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)o(l);return e(t,c)},l.prototype.opacity=function(t,e,n,i){var a=t.firstChild;i=i.shadow&&i.lines||0,a&&e+i<a.childNodes.length&&(a=a.childNodes[e+i],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=n))}}var d,p=["webkit","Moz","ms","O"],c={},h=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={},r(l.prototype,{spin:function(e){this.stop();var n,i,r=this,s=r.opts,l=r.el=a(t(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),u=s.radius+s.length+s.width;if(e&&(e.insertBefore(l,e.firstChild||null),i=o(e),n=o(l),a(l,{left:("auto"==s.left?i.x-n.x+(e.offsetWidth>>1):parseInt(s.left,10)+u)+"px",top:("auto"==s.top?i.y-n.y+(e.offsetHeight>>1):parseInt(s.top,10)+u)+"px"})),l.setAttribute("role","progressbar"),r.lines(l,r.opts),!d){var p,c=0,h=(s.lines-1)*(1-s.direction)/2,f=s.fps,g=f/s.speed,m=(1-s.opacity)/(g*s.trail/100),v=g/s.lines;!function y(){c++;for(var t=0;t<s.lines;t++)p=Math.max(1-(c+(s.lines-t)*v)%g*m,s.opacity),r.opacity(l,t*s.direction+h,p,s);r.timeout=r.el&&setTimeout(y,~~(1e3/f))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,r){function o(e,n){return a(t(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*u+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,u=0,p=(r.lines-1)*(1-r.direction)/2;u<r.lines;u++)l=a(t(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:d&&n(r.opacity,r.trail,p+u*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,a(o("#000","0 0 4px #000"),{top:"2px"})),e(i,e(l,o(s(r.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var g=a(t("group"),{behavior:"url(#default#VML)"});return!i(g,"transform")&&g.adj?u():d=i(g,"animation"),l}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(["spin"],e):t.Ladda=e(t.Spinner)}(this,function(t){"use strict";function e(t){if("undefined"==typeof t)return console.warn("Ladda button target must be defined."),void 0;t.querySelector(".ladda-label")||(t.innerHTML='<span class="ladda-label">'+t.innerHTML+"</span>");var e,n=document.createElement("span");n.className="ladda-spinner",t.appendChild(n);var i,a={start:function(){return e||(e=o(t)),t.setAttribute("disabled",""),t.setAttribute("data-loading",""),clearTimeout(i),e.spin(n),this.setProgress(0),this},startAfter:function(t){return clearTimeout(i),i=setTimeout(function(){a.start()},t),this},stop:function(){return t.removeAttribute("disabled"),t.removeAttribute("data-loading"),clearTimeout(i),e&&(i=setTimeout(function(){e.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(e){e=Math.max(Math.min(e,1),0);var n=t.querySelector(".ladda-progress");0===e&&n&&n.parentNode?n.parentNode.removeChild(n):(n||(n=document.createElement("div"),n.className="ladda-progress",t.appendChild(n)),n.style.width=(e||0)*t.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),t.setAttribute("disabled",""),this},isLoading:function(){return t.hasAttribute("data-loading")}};return l.push(a),a}function n(t,e){for(;t.parentNode&&t.tagName!==e;)t=t.parentNode;return e===t.tagName?t:void 0}function i(t){for(var e=["input","textarea"],n=[],i=0;i<e.length;i++)for(var a=t.getElementsByTagName(e[i]),r=0;r<a.length;r++)a[r].hasAttribute("required")&&n.push(a[r]);return n}function a(t,a){a=a||{};var r=[];"string"==typeof t?r=s(document.querySelectorAll(t)):"object"==typeof t&&"string"==typeof t.nodeName&&(r=[t]);for(var o=0,l=r.length;l>o;o++)!function(){var t=r[o];if("function"==typeof t.addEventListener){var s=e(t),l=-1;t.addEventListener("click",function(){var e=!0,r=n(t,"FORM");if("undefined"!=typeof r)for(var o=i(r),u=0;u<o.length;u++)""===o[u].value.replace(/^\s+|\s+$/g,"")&&(e=!1);e&&(s.startAfter(1),"number"==typeof a.timeout&&(clearTimeout(l),l=setTimeout(s.stop,a.timeout)),"function"==typeof a.callback&&a.callback.apply(null,[s]))},!1)}}()}function r(){for(var t=0,e=l.length;e>t;t++)l[t].stop()}function o(e){var n,i=e.offsetHeight;0===i&&(i=parseFloat(window.getComputedStyle(e).height)),i>32&&(i*=.8),e.hasAttribute("data-spinner-size")&&(i=parseInt(e.getAttribute("data-spinner-size"),10)),e.hasAttribute("data-spinner-color")&&(n=e.getAttribute("data-spinner-color"));var a=12,r=.2*i,o=.6*r,s=7>r?2:3;return new t({color:n||"#fff",lines:a,radius:r,length:o,width:s,zIndex:"auto",top:"auto",left:"auto",className:""})}function s(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}var l=[];return{bind:a,create:e,stopAll:r}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,a,r,o,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)o[n]=str(n,l)||"null";return a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,l),a&&o.push(quote(i)+(gap?": ":":")+a));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a=str(i,l),a&&o.push(quote(i)+(gap?": ":":")+a));return a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,a=t[e];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(t,e,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t,e){"use strict";var n=t.History=t.History||{},i=t.jQuery;if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(t,e,n){i(t).bind(e,n)},trigger:function(t,e,n){i(t).trigger(e,n)},extractEventData:function(t,n,i){var a=n&&n.originalEvent&&n.originalEvent[t]||i&&i[t]||e;return a},onDomLoad:function(t){i(t)}},"undefined"!=typeof n.init&&n.init()}(window),function(t){"use strict";var e=t.document,n=t.setTimeout||n,i=t.clearTimeout||i,a=t.setInterval||a,r=t.History=t.History||{};if("undefined"!=typeof r.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");r.initHtml4=function(){return"undefined"!=typeof r.initHtml4.initialized?!1:(r.initHtml4.initialized=!0,r.enabled=!0,r.savedHashes=[],r.isLastHash=function(t){var e,n=r.getHashByIndex();return e=t===n},r.isHashEqual=function(t,e){return t=encodeURIComponent(t).replace(/%25/g,"%"),e=encodeURIComponent(e).replace(/%25/g,"%"),t===e},r.saveHash=function(t){return r.isLastHash(t)?!1:(r.savedHashes.push(t),!0)},r.getHashByIndex=function(t){var e=null;return e="undefined"==typeof t?r.savedHashes[r.savedHashes.length-1]:0>t?r.savedHashes[r.savedHashes.length+t]:r.savedHashes[t]},r.discardedHashes={},r.discardedStates={},r.discardState=function(t,e,n){var i,a=r.getHashByState(t);return i={discardedState:t,backState:n,forwardState:e},r.discardedStates[a]=i,!0},r.discardHash=function(t,e,n){var i={discardedHash:t,backState:n,forwardState:e};return r.discardedHashes[t]=i,!0},r.discardedState=function(t){var e,n=r.getHashByState(t);return e=r.discardedStates[n]||!1},r.discardedHash=function(t){var e=r.discardedHashes[t]||!1;return e},r.recycleState=function(t){var e=r.getHashByState(t);return r.discardedState(t)&&delete r.discardedStates[e],!0},r.emulated.hashChange&&(r.hashChangeInit=function(){r.checkerFunction=null;var n,i,o,s,l="",u=Boolean(r.getHash());return r.isInternetExplorer()?(n="historyjs-iframe",i=e.createElement("iframe"),i.setAttribute("id",n),i.setAttribute("src","#"),i.style.display="none",e.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),o="",s=!1,r.checkerFunction=function(){if(s)return!1;s=!0;var e=r.getHash(),n=r.getHash(i.contentWindow.document);return e!==l?(l=e,n!==e&&(o=n=e,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=r.escapeHash(e)),r.Adapter.trigger(t,"hashchange")):n!==o&&(o=n,u&&""===n?r.back():r.setHash(n,!1)),s=!1,!0}):r.checkerFunction=function(){var e=r.getHash()||"";return e!==l&&(l=e,r.Adapter.trigger(t,"hashchange")),!0},r.intervalList.push(a(r.checkerFunction,r.options.hashChangeInterval)),!0},r.Adapter.onDomLoad(r.hashChangeInit)),r.emulated.pushState&&(r.onHashChange=function(e){var n,i=e&&e.newURL||r.getLocationHref(),a=r.getHashByUrl(i),o=null,s=null;return r.isLastHash(a)?(r.busy(!1),!1):(r.doubleCheckComplete(),r.saveHash(a),a&&r.isTraditionalAnchor(a)?(r.Adapter.trigger(t,"anchorchange"),r.busy(!1),!1):(o=r.extractState(r.getFullUrl(a||r.getLocationHref()),!0),r.isLastSavedState(o)?(r.busy(!1),!1):(s=r.getHashByState(o),(n=r.discardedState(o))?(r.getHashByIndex(-2)===r.getHashByState(n.forwardState)?r.back(!1):r.forward(!1),!1):(r.pushState(o.data,o.title,encodeURI(o.url),!1),!0))))},r.Adapter.bind(t,"hashchange",r.onHashChange),r.pushState=function(e,n,i,a){if(i=encodeURI(i).replace(/%25/g,"%"),r.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.pushState,args:arguments,queue:a}),!1;r.busy(!0);var o=r.createStateObject(e,n,i),s=r.getHashByState(o),l=r.getState(!1),u=r.getHashByState(l),d=r.getHash(),p=r.expectedStateId==o.id;return r.storeState(o),r.expectedStateId=o.id,r.recycleState(o),r.setTitle(o),s===u?(r.busy(!1),!1):(r.saveState(o),p||r.Adapter.trigger(t,"statechange"),r.isHashEqual(s,d)||r.isHashEqual(s,r.getShortUrl(r.getLocationHref()))||r.setHash(s,!1),r.busy(!1),!0)},r.replaceState=function(e,n,i,a){if(i=encodeURI(i).replace(/%25/g,"%"),r.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.replaceState,args:arguments,queue:a}),!1;r.busy(!0);var o=r.createStateObject(e,n,i),s=r.getHashByState(o),l=r.getState(!1),u=r.getHashByState(l),d=r.getStateByIndex(-2);return r.discardState(l,o,d),s===u?(r.storeState(o),r.expectedStateId=o.id,r.recycleState(o),r.setTitle(o),r.saveState(o),r.Adapter.trigger(t,"statechange"),r.busy(!1)):r.pushState(o.data,o.title,o.url,!1),!0}),r.emulated.pushState&&r.getHash()&&!r.emulated.hashChange&&r.Adapter.onDomLoad(function(){r.Adapter.trigger(t,"hashchange")}),void 0)},"undefined"!=typeof r.init&&r.init()}(window),function(t,e){"use strict";var n=t.console||e,i=t.document,a=t.navigator,r=t.sessionStorage||!1,o=t.setTimeout,s=t.clearTimeout,l=t.setInterval,u=t.clearInterval,d=t.JSON,p=t.alert,c=t.History=t.History||{},h=t.history;try{r.setItem("TEST","1"),r.removeItem("TEST")}catch(f){r=!1}if(d.stringify=d.stringify||d.encode,d.parse=d.parse||d.decode,"undefined"!=typeof c.init)throw new Error("History.js Core has already been loaded...");c.init=function(){return"undefined"==typeof c.Adapter?!1:("undefined"!=typeof c.initCore&&c.initCore(),"undefined"!=typeof c.initHtml4&&c.initHtml4(),!0)},c.initCore=function(){if("undefined"!=typeof c.initCore.initialized)return!1;if(c.initCore.initialized=!0,c.options=c.options||{},c.options.hashChangeInterval=c.options.hashChangeInterval||100,c.options.safariPollInterval=c.options.safariPollInterval||500,c.options.doubleCheckInterval=c.options.doubleCheckInterval||500,c.options.disableSuid=c.options.disableSuid||!1,c.options.storeInterval=c.options.storeInterval||1e3,c.options.busyDelay=c.options.busyDelay||250,c.options.debug=c.options.debug||!1,c.options.initialTitle=c.options.initialTitle||i.title,c.options.html4Mode=c.options.html4Mode||!1,c.options.delayInit=c.options.delayInit||!1,c.intervalList=[],c.clearAllIntervals=function(){var t,e=c.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)u(e[t]);c.intervalList=null}},c.debug=function(){c.options.debug&&c.log.apply(c,arguments)},c.log=function(){var t,e,a,r,o,s=!("undefined"==typeof n||"undefined"==typeof n.log||"undefined"==typeof n.log.apply),l=i.getElementById("log");for(s?(r=Array.prototype.slice.call(arguments),t=r.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[t,r]):n.log.apply(n,[t,r])):t="\n"+arguments[0]+"\n",e=1,a=arguments.length;a>e;++e){if(o=arguments[e],"object"==typeof o&&"undefined"!=typeof d)try{o=d.stringify(o)}catch(u){}t+="\n"+o+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||p(t),!0},c.getInternetExplorerMajorVersion=function(){var t=c.getInternetExplorerMajorVersion.cached="undefined"!=typeof c.getInternetExplorerMajorVersion.cached?c.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=i.createElement("div"),n=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&n[0];);return t>4?t:!1}();return t},c.isInternetExplorer=function(){var t=c.isInternetExplorer.cached="undefined"!=typeof c.isInternetExplorer.cached?c.isInternetExplorer.cached:Boolean(c.getInternetExplorerMajorVersion());return t},c.emulated=c.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent))),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in i)||c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8)},c.enabled=!c.emulated.pushState,c.bugs={setHash:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),safariPoll:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),ieDoubleCheck:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<7)},c.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},c.cloneObject=function(t){var e,n;return t?(e=d.stringify(t),n=d.parse(e)):n={},n},c.getRootUrl=function(){var t=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(t+=":"+i.location.port),t+="/"},c.getBaseHref=function(){var t=i.getElementsByTagName("base"),e=null,n="";return 1===t.length&&(e=t[0],n=e.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},c.getBaseUrl=function(){var t=c.getBaseHref()||c.getBasePageUrl()||c.getRootUrl();return t},c.getPageUrl=function(){var t,e=c.getState(!1,!1),n=(e||{}).url||c.getLocationHref();return t=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},c.getBasePageUrl=function(){var t=c.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},c.getFullUrl=function(t,e){var n=t,i=t.substring(0,1);return e="undefined"==typeof e?!0:e,/[a-z]+\:\/\//.test(t)||(n="/"===i?c.getRootUrl()+t.replace(/^\/+/,""):"#"===i?c.getPageUrl().replace(/#.*/,"")+t:"?"===i?c.getPageUrl().replace(/[\?#].*/,"")+t:e?c.getBaseUrl()+t.replace(/^(\.\/)+/,""):c.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},c.getShortUrl=function(t){var e=t,n=c.getBaseUrl(),i=c.getRootUrl();return c.emulated.pushState&&(e=e.replace(n,"")),e=e.replace(i,"/"),c.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},c.getLocationHref=function(t){return t=t||i,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},c.store={},c.idToState=c.idToState||{},c.stateToId=c.stateToId||{},c.urlToId=c.urlToId||{},c.storedStates=c.storedStates||[],c.savedStates=c.savedStates||[],c.normalizeStore=function(){c.store.idToState=c.store.idToState||{},c.store.urlToId=c.store.urlToId||{},c.store.stateToId=c.store.stateToId||{}},c.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var n=c.getLastSavedState();return!n&&e&&(n=c.createStateObject()),t&&(n=c.cloneObject(n),n.url=n.cleanUrl||n.url),n},c.getIdByState=function(t){var e,n=c.extractId(t.url);if(!n)if(e=c.getStateString(t),"undefined"!=typeof c.stateToId[e])n=c.stateToId[e];else if("undefined"!=typeof c.store.stateToId[e])n=c.store.stateToId[e];else{for(;;)if(n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof c.idToState[n]&&"undefined"==typeof c.store.idToState[n])break;c.stateToId[e]=n,c.idToState[n]=t}return n},c.normalizeState=function(t){var e,n;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=c.getFullUrl(t.url?t.url:c.getLocationHref()),e.hash=c.getShortUrl(e.url),e.data=c.cloneObject(t.data),e.id=c.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,n=!c.isEmptyObject(e.data),(e.title||n)&&c.options.disableSuid!==!0&&(e.hash=c.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=c.getFullUrl(e.hash),(c.emulated.pushState||c.bugs.safariPoll)&&c.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)
},c.createStateObject=function(t,e,n){var i={data:t,title:e,url:n};return i=c.normalizeState(i)},c.getStateById=function(t){t=String(t);var n=c.idToState[t]||c.store.idToState[t]||e;return n},c.getStateString=function(t){var e,n,i;return e=c.normalizeState(t),n={data:e.data,title:t.title,url:t.url},i=d.stringify(n)},c.getStateId=function(t){var e,n;return e=c.normalizeState(t),n=e.id},c.getHashByState=function(t){var e,n;return e=c.normalizeState(t),n=e.hash},c.extractId=function(t){var e,n,i,a;return a=-1!=t.indexOf("#")?t.split("#")[0]:t,n=/(.*)\&_suid=([0-9]+)$/.exec(a),i=n?n[1]||t:t,e=n?String(n[2]||""):"",e||!1},c.isTraditionalAnchor=function(t){var e=!/[\/\?\.]/.test(t);return e},c.extractState=function(t,e){var n,i,a=null;return e=e||!1,n=c.extractId(t),n&&(a=c.getStateById(n)),a||(i=c.getFullUrl(t),n=c.getIdByUrl(i)||!1,n&&(a=c.getStateById(n)),a||!e||c.isTraditionalAnchor(t)||(a=c.createStateObject(null,null,i))),a},c.getIdByUrl=function(t){var n=c.urlToId[t]||c.store.urlToId[t]||e;return n},c.getLastSavedState=function(){return c.savedStates[c.savedStates.length-1]||e},c.getLastStoredState=function(){return c.storedStates[c.storedStates.length-1]||e},c.hasUrlDuplicate=function(t){var e,n=!1;return e=c.extractState(t.url),n=e&&e.id!==t.id},c.storeState=function(t){return c.urlToId[t.url]=t.id,c.storedStates.push(c.cloneObject(t)),t},c.isLastSavedState=function(t){var e,n,i,a=!1;return c.savedStates.length&&(e=t.id,n=c.getLastSavedState(),i=n.id,a=e===i),a},c.saveState=function(t){return c.isLastSavedState(t)?!1:(c.savedStates.push(c.cloneObject(t)),!0)},c.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?c.savedStates[c.savedStates.length-1]:0>t?c.savedStates[c.savedStates.length+t]:c.savedStates[t]},c.getCurrentIndex=function(){var t=null;return t=c.savedStates.length<1?0:c.savedStates.length-1},c.getHash=function(t){var e,n=c.getLocationHref(t);return e=c.getHashByUrl(n)},c.unescapeHash=function(t){var e=c.normalizeHash(t);return e=decodeURIComponent(e)},c.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},c.setHash=function(t,e){var n,a;return e!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.setHash,args:arguments,queue:e}),!1):(c.busy(!0),n=c.extractState(t,!0),n&&!c.emulated.pushState?c.pushState(n.data,n.title,n.url,!1):c.getHash()!==t&&(c.bugs.setHash?(a=c.getPageUrl(),c.pushState(null,null,a+"#"+t,!1)):i.location.hash=t),c)},c.escapeHash=function(e){var n=c.normalizeHash(e);return n=t.encodeURIComponent(n),c.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},c.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=c.unescapeHash(e)},c.setTitle=function(t){var e,n=t.title;n||(e=c.getStateByIndex(0),e&&e.url===t.url&&(n=e.title||c.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return i.title=n,c},c.queues=[],c.busy=function(t){if("undefined"!=typeof t?c.busy.flag=t:"undefined"==typeof c.busy.flag&&(c.busy.flag=!1),!c.busy.flag){s(c.busy.timeout);var e=function(){var t,n,i;if(!c.busy.flag)for(t=c.queues.length-1;t>=0;--t)n=c.queues[t],0!==n.length&&(i=n.shift(),c.fireQueueItem(i),c.busy.timeout=o(e,c.options.busyDelay))};c.busy.timeout=o(e,c.options.busyDelay)}return c.busy.flag},c.busy.flag=!1,c.fireQueueItem=function(t){return t.callback.apply(t.scope||c,t.args||[])},c.pushQueue=function(t){return c.queues[t.queue||0]=c.queues[t.queue||0]||[],c.queues[t.queue||0].push(t),c},c.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),c.busy()?c.pushQueue(t):c.fireQueueItem(t),c},c.clearQueue=function(){return c.busy.flag=!1,c.queues=[],c},c.stateChanged=!1,c.doubleChecker=!1,c.doubleCheckComplete=function(){return c.stateChanged=!0,c.doubleCheckClear(),c},c.doubleCheckClear=function(){return c.doubleChecker&&(s(c.doubleChecker),c.doubleChecker=!1),c},c.doubleCheck=function(t){return c.stateChanged=!1,c.doubleCheckClear(),c.bugs.ieDoubleCheck&&(c.doubleChecker=o(function(){return c.doubleCheckClear(),c.stateChanged||t(),!0},c.options.doubleCheckInterval)),c},c.safariStatePoll=function(){var e,n=c.extractState(c.getLocationHref());if(!c.isLastSavedState(n))return e=n,e||(e=c.createStateObject()),c.Adapter.trigger(t,"popstate"),c},c.back=function(t){return t!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.back,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.back(!1)}),h.go(-1),!0)},c.forward=function(t){return t!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.forward,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.forward(!1)}),h.go(1),!0)},c.go=function(t,e){var n;if(t>0)for(n=1;t>=n;++n)c.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=t;--n)c.back(e)}return c},c.emulated.pushState){var f=function(){};c.pushState=c.pushState||f,c.replaceState=c.replaceState||f}else c.onPopState=function(e,n){var i,a,r=!1,o=!1;return c.doubleCheckComplete(),(i=c.getHash())?(a=c.extractState(i||c.getLocationHref(),!0),a?c.replaceState(a.data,a.title,a.url,!1):(c.Adapter.trigger(t,"anchorchange"),c.busy(!1)),c.expectedStateId=!1,!1):(r=c.Adapter.extractEventData("state",e,n)||!1,o=r?c.getStateById(r):c.expectedStateId?c.getStateById(c.expectedStateId):c.extractState(c.getLocationHref()),o||(o=c.createStateObject(null,null,c.getLocationHref())),c.expectedStateId=!1,c.isLastSavedState(o)?(c.busy(!1),!1):(c.storeState(o),c.saveState(o),c.setTitle(o),c.Adapter.trigger(t,"statechange"),c.busy(!1),!0))},c.Adapter.bind(t,"popstate",c.onPopState),c.pushState=function(e,n,i,a){if(c.getHashByUrl(i)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:a}),!1;c.busy(!0);var r=c.createStateObject(e,n,i);return c.isLastSavedState(r)?c.busy(!1):(c.storeState(r),c.expectedStateId=r.id,h.pushState(r.id,r.title,r.url),c.Adapter.trigger(t,"popstate")),!0},c.replaceState=function(e,n,i,a){if(c.getHashByUrl(i)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:a}),!1;c.busy(!0);var r=c.createStateObject(e,n,i);return c.isLastSavedState(r)?c.busy(!1):(c.storeState(r),c.expectedStateId=r.id,h.replaceState(r.id,r.title,r.url),c.Adapter.trigger(t,"popstate")),!0};if(r){try{c.store=d.parse(r.getItem("History.store"))||{}}catch(g){c.store={}}c.normalizeStore()}else c.store={},c.normalizeStore();c.Adapter.bind(t,"unload",c.clearAllIntervals),c.saveState(c.storeState(c.extractState(c.getLocationHref(),!0))),r&&(c.onUnload=function(){var t,e,n;try{t=d.parse(r.getItem("History.store"))||{}}catch(i){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in c.idToState)c.idToState.hasOwnProperty(e)&&(t.idToState[e]=c.idToState[e]);for(e in c.urlToId)c.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=c.urlToId[e]);for(e in c.stateToId)c.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=c.stateToId[e]);c.store=t,c.normalizeStore(),n=d.stringify(t);try{r.setItem("History.store",n)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;r.length&&(r.removeItem("History.store"),r.setItem("History.store",n))}},c.intervalList.push(l(c.onUnload,c.options.storeInterval)),c.Adapter.bind(t,"beforeunload",c.onUnload),c.Adapter.bind(t,"unload",c.onUnload)),c.emulated.pushState||(c.bugs.safariPoll&&c.intervalList.push(l(c.safariStatePoll,c.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(c.Adapter.bind(t,"hashchange",function(){c.Adapter.trigger(t,"popstate")}),c.getHash()&&c.Adapter.onDomLoad(function(){c.Adapter.trigger(t,"hashchange")})))},c.options&&c.options.delayInit||c.init()}(window),function(t,e){"user strict";function n(t,e){switch(typeof t){case"string":r.trigger(t,e);break;case"function":t(e);break;default:i("Can't dispatch action : ",t,e)}}function i(){o&&console.log("Router : ",arguments)}function a(t){var e=t.match(/(:[^\W\/#\?]+)/g);return(e||[]).map(function(t){return t.replace(/:/g,"")})}var r=null,o=!1,s="a[target!=_blank]:not([href^=http]):not([href^=javascript])";this.Router=function(n){var i=this;this.routes=[],r=n.anchor||null,o=n.debug||!1,s=n.selector||s,e.Adapter.bind(window,"statechange",function(t){i.dispatch(),t.preventDefault(),t.stopPropagation()}),t(document).on("click",s,function(e){i.navigate(t(this).attr("href")),e.preventDefault(),e.stopPropagation()})},this.Router.prototype={define:function(t,e){var n={pattern:new RegExp("^"+t.replace(/\//g,"\\/").replace(/:[\w]+/g,"([^\\/#\\?]+)")+"(\\/?(?:[#\\?]).*)?$"),vars:a(t),action:e};i("defined: ",n),this.routes.push(n)},dispatch:function(){var t={},a=e.getState();i("state: ",a.hash);for(var r in this.routes){var o=a.hash.match(this.routes[r].pattern);if(o instanceof Array&&o.shift()){i("matched: ",this.routes[r]);for(var s in this.routes[r].vars)t[this.routes[r].vars[s]]=o[s];return n(this.routes[r].action,t),void 0}}i("No matched route.")},navigate:function(t){i(this,t),e.pushState({},"...",t)}}}.call(window,window.jQuery,window.History);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return s[t]||"&amp;"}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(t){return t instanceof o?t.toString():t||0===t?(t=""+t,u.test(t)?t.replace(l,e):t):""}function a(t){return t||0===t?c(t)&&0===t.length?!0:!1:!0}var r={},o=t,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,u=/[&<>"'`]/;r.extend=n;var d=Object.prototype.toString;r.toString=d;var p=function(t){return"function"==typeof t};p(/x/)&&(p=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)});var p;r.isFunction=p;var c=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===d.call(t):!1};return r.isArray=c,r.escapeExpression=i,r.isEmpty=a,r}(t),n=function(){"use strict";function t(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<n.length;e++)this[n[e]]=t[n[e]]}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},a=n.fn;return c(e)&&(e=e.call(this)),e===!0?a(this):e===!1||null==e?i(this):p(e)?e.length>0?t.helpers.each(e,n):i(this):a(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,a=e.inverse,r=0,o="";if(c(t)&&(t=t.call(this)),e.data&&(n=m(e.data)),t&&"object"==typeof t)if(p(t))for(var s=t.length;s>r;r++)n&&(n.index=r,n.first=0===r,n.last=r===t.length-1),o+=i(t[r],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l),o+=i(t[l],{data:n}),r++);return 0===r&&(o=a(this)),o}),t.registerHelper("if",function(t,e){return c(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return c(t)&&(t=t.call(this)),o.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function a(t,e){g.log(t,e)}var r={},o=t,s=e,l="1.1.2";r.VERSION=l;var u=4;r.COMPILER_REVISION=u;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=d;var p=o.isArray,c=o.isFunction,h=o.toString,f="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:g,log:a,registerHelper:function(t,e,n){if(h.call(t)===f){if(n||e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){h.call(t)===f?o.extend(this.partials,t):this.partials[t]=e}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(g.level<=t){var n=g.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};r.logger=g,r.log=a;var m=function(t){var e={};return o.extend(e,t),e};return r.createFrame=m,r}(e,n),a=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=c;if(e!==n){if(n>e){var i=h[n],a=h[e];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){if(!e)throw new Error("No environment passed to template");var n;n=e.compile?function(t,n,i,a,r,o){var l=s.apply(this,arguments);if(l)return l;var u={helpers:a,partials:r,data:o};return r[n]=e.compile(t,{data:void 0!==o},e),r[n](i,u)}:function(t,e){var n=s.apply(this,arguments);if(n)return n;throw new p("The partial "+e+" could not be compiled when running in runtime-only mode")};var a={escapeExpression:d.escapeExpression,invokePartial:n,programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=o(t,e,n):i||(i=this.programs[t]=o(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},d.extend(n,e),d.extend(n,t)),n},programWithDepth:r,noop:l,compilerInfo:null};return function(n,r){r=r||{};var o,s,l=r.partial?r:e;r.partial||(o=r.helpers,s=r.partials);var u=t.call(a,l,n,o,s,r.data);return r.partial||i(a.compilerInfo),u}}function r(t,e,n){var i=Array.prototype.slice.call(arguments,3),a=function(t,a){return a=a||{},e.apply(this,[t,a.data||n].concat(i))};return a.program=t,a.depth=i.length,a}function o(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}function s(t,e,n,i,a,r){var o={partial:!0,helpers:i,partials:a,data:r};if(void 0===t)throw new p("The partial "+e+" could not be found");return t instanceof Function?t(n,o):void 0}function l(){return""}var u={},d=t,p=e,c=n.COMPILER_REVISION,h=n.REVISION_CHANGES;return u.template=a,u.programWithDepth=r,u.program=o,u.invokePartial=s,u.noop=l,u}(e,n,i),r=function(t,e,n,i,a){"use strict";var r,o=t,s=e,l=n,u=i,d=a,p=function(){var t=new o.HandlebarsEnvironment;return u.extend(t,o),t.SafeString=s,t.Exception=l,t.Utils=u,t.VM=d,t.template=function(e){return d.template(e,t)},t},c=p();return c.create=p,r=c}(i,t,n,e,a);return r}();!function(t){t.registerHelper("unreadIcon",function(t){var e="glyphicon-ok-";return t=null==t||"undefined"==typeof t?!0:t,e+(t?"circle":"sign")}),t.registerHelper("unreadLabel",function(t){return t=null==t||"undefined"==typeof t?!0:t,t?"read":"unread"}),t.registerHelper("readableDate",function(t){var e=new Date((t||"").replace(/-/g,"/").replace(/[TZ]/g," ")+" UTC");return e.toDateString()+", "+e.toLocaleTimeString()})}(window.Handlebars),function(){Handlebars.registerPartial("feeds/_newsitems",Handlebars.template(function(t,e,n,i,a){function r(t,e,i){var a,r,o,s="";return s+='\n<div class="panel panel-default widget widget-transparent feed">\n    <div class="panel-heading">\n      <h3>\n      <a href="'+u((a=t&&t.path,typeof a===l?a.apply(t):a))+'">',a=t&&t.title,r=typeof a===l?a.apply(t):a,(r||0===r)&&(s+=r),s+='</a>\n      <a href="'+u((a=t&&t.url,typeof a===l?a.apply(t):a))+'" target="_blank"><span class="glyphicon glyphicon-new-window glyph-sm" data-toggle="tooltip" title="Go to '+u((a=t&&t.url,typeof a===l?a.apply(t):a))+'"></span></a>\n      <a href="javascript:void(0)" data-on-click="toggleRead" data-id="'+u((a=t&&t.id,typeof a===l?a.apply(t):a))+'" data-feed-id="'+u((a=i&&i.id,typeof a===l?a.apply(t):a))+'">\n      <span class="glyphicon ',o={hash:{},data:e},s+=u((a=n.unreadIcon||t&&t.unreadIcon,a?a.call(t,t&&t.unread,o):d.call(t,"unreadIcon",t&&t.unread,o)))+' glyph-sm" data-toggle="tooltip" title="Set ',o={hash:{},data:e},s+=u((a=n.unreadLabel||t&&t.unreadLabel,a?a.call(t,t&&t.unread,o):d.call(t,"unreadLabel",t&&t.unread,o)))+'"></span>\n      </a>\n      </h3>\n    </div>\n    <div class="feed-content panel-body">\n      <div class="text-muted">\n        <em>by '+u((a=t&&t.author,typeof a===l?a.apply(t):a))+'</em>\n        <div class="pull-right">\n          <abbr class="timeago" title="'+u((a=t&&t.published,typeof a===l?a.apply(t):a))+'">',o={hash:{},data:e},s+=u((a=n.readableDate||t&&t.readableDate,a?a.call(t,t&&t.published,o):d.call(t,"readableDate",t&&t.published,o)))+"</abbr>\n        </div>\n      </div>\n      ",a=t&&t.summary,r=typeof a===l?a.apply(t):a,(r||0===r)&&(s+=r),s+="\n    </div>\n  </div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var o,s="",l="function",u=this.escapeExpression,d=n.helperMissing,p=this;return o=n.each.call(e,e&&e.newsitems,{hash:{},inverse:p.noop,fn:p.programWithDepth(1,r,a,e),data:a}),(o||0===o)&&(s+=o),s+="\n"}))}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["feeds/index"]=Handlebars.template(function(t,e,n,i,a){function r(t,e){var a,r,o="";return o+='\n  <h2><a href="'+c((a=t&&t.path,typeof a===p?a.apply(t):a))+'">',a=t&&t.title,r=typeof a===p?a.apply(t):a,(r||0===r)&&(o+=r),o+='</a>\n      <a href="'+c((a=t&&t.url,typeof a===p?a.apply(t):a))+'" target="_blank"><span class="glyphicon glyphicon-new-window glyph-sm" data-toggle="tooltip" title="Go to '+c((a=t&&t.url,typeof a===p?a.apply(t):a))+'"></span></a>\n  </h2>\n  ',r=h.invokePartial(i["feeds/_newsitems"],"feeds/_newsitems",t,n,i,e),(r||0===r)&&(o+=r),o+="\n  <hr>\n"}function o(){return'\n<div class="alert alert-info">\n  <strong>No news</strong> at the moment\n</div>\n'}function s(t,e){var i,a="";return a+='\n<ul class="pager">\n  <li class="previous">',(i=n.prevPage)?i=i.call(t,{hash:{},data:e}):(i=t&&t.prevPage,i=typeof i===p?i.call(t,{hash:{},data:e}):i),(i||0===i)&&(a+=i),a+='</li>\n  <li class="next">',(i=n.nextPage)?i=i.call(t,{hash:{},data:e}):(i=t&&t.nextPage,i=typeof i===p?i.call(t,{hash:{},data:e}):i),(i||0===i)&&(a+=i),a+="</li>\n</ul>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),a=a||{};var l,u,d="",p="function",c=this.escapeExpression,h=this;return l=n.each.call(e,e&&e.feeds,{hash:{},inverse:h.program(3,o,a),fn:h.program(1,r,a),data:a}),(l||0===l)&&(d+=l),d+="\n",u=n["if"].call(e,(l=e&&e.feeds,null==l||l===!1?l:l.length),{hash:{},inverse:h.noop,fn:h.program(5,s,a),data:a}),(u||0===u)&&(d+=u),d+="\n"}),this.HandlebarsTemplates["feeds/index"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["feeds/show"]=Handlebars.template(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),a=a||{};var r,o="",s="function",l=this.escapeExpression,u=this;return o+='<h1><a href="',(r=n.url)?r=r.call(e,{hash:{},data:a}):(r=e&&e.url,r=typeof r===s?r.call(e,{hash:{},data:a}):r),o+=l(r)+'">',(r=n.title)?r=r.call(e,{hash:{},data:a}):(r=e&&e.title,r=typeof r===s?r.call(e,{hash:{},data:a}):r),(r||0===r)&&(o+=r),o+="</a></h1>\n",r=u.invokePartial(i["feeds/_newsitems"],"feeds/_newsitems",e,n,i,a),(r||0===r)&&(o+=r),o+='\n\n<ul class="pager">\n  <li class="previous">',(r=n.prevPage)?r=r.call(e,{hash:{},data:a}):(r=e&&e.prevPage,r=typeof r===s?r.call(e,{hash:{},data:a}):r),(r||0===r)&&(o+=r),o+='</li>\n  <li class="next">',(r=n.nextPage)?r=r.call(e,{hash:{},data:a}):(r=e&&e.nextPage,r=typeof r===s?r.call(e,{hash:{},data:a}):r),(r||0===r)&&(o+=r),o+="</li>\n</ul>\n\n"}),this.HandlebarsTemplates["feeds/show"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.navigation=Handlebars.template(function(t,e,n,i,a){function r(t,e){var i,a,r="";return r+='\n  <li class="nav-header">\n    <span><strong>'+p((i=t&&t.name,typeof i===d?i.apply(t):i))+'</strong></span>\n  </li>\n  <ul class="nav-list feed-items" style="list-style-type:none;">\n    ',a=n.each.call(t,t&&t.feeds,{hash:{},inverse:h.noop,fn:h.program(2,o,e),data:e}),(a||0===a)&&(r+=a),r+="\n  </ul>\n"}function o(t,e){var i,a,r,o="";return o+='\n    <li class="nav-item'+p((i=t&&t.active,typeof i===d?i.apply(t):i))+'" data-on-mousedown="navigated" data-feed-id="'+p((i=t&&t.id,typeof i===d?i.apply(t):i))+'">\n        <div class="favicon pull-left">\n          <img src="'+p((i=t&&t.favicon,typeof i===d?i.apply(t):i))+'" width="16" height="16"/>\n        </div>\n        <p class="feed-title ellipsis">\n          <a alt="'+p((i=t&&t.title,typeof i===d?i.apply(t):i))+'" href="'+p((i=t&&t.path,typeof i===d?i.apply(t):i))+'">'+p((i=t&&t.title,typeof i===d?i.apply(t):i))+'</a>\n        </p>\n        <p class="latest-news text-muted ellipsis"><abbr class="timeago" title="'+p((i=t&&t.latestEntryPubDate,typeof i===d?i.apply(t):i))+'">',r={hash:{},data:e},o+=p((i=n.readableDate||t&&t.readableDate,i?i.call(t,t&&t.latestEntryPubDate,r):c.call(t,"readableDate",t&&t.latestEntryPubDate,r)))+"</abbr> - ",i=t&&t.latestEntryTitle,a=typeof i===d?i.apply(t):i,(a||0===a)&&(o+=a),o+="</p>\n        ",a=n["if"].call(t,t&&t.unreadCount,{hash:{},inverse:h.noop,fn:h.program(3,s,e),data:e}),(a||0===a)&&(o+=a),o+="\n      </li>\n    "}function s(t){var e,n="";return n+='\n          <a href="javascript:void(0)" data-id="'+p((e=t&&t.id,typeof e===d?e.apply(t):e))+'" data-on-click="markAsRead" data-on-mousedown="doNotPropagate">\n            <span class="pull-right unread-num label">'+p((e=t&&t.unreadCount,typeof e===d?e.apply(t):e))+"</span>\n          </a>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var l,u="",d="function",p=this.escapeExpression,c=n.helperMissing,h=this;return u+='<ul class="nav nav-list">\n',l=n.each.call(e,e&&e.categories,{hash:{},inverse:h.noop,fn:h.program(1,r,a),data:a}),(l||0===l)&&(u+=l),u+="\n</ul>\n"}),this.HandlebarsTemplates.navigation}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.newsitem=Handlebars.template(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var r,o,s,l="",u="function",d=this.escapeExpression,p=n.helperMissing;return l+='<div class="panel panel-default widget widget-transparent feed">\n  <div class="panel-heading">\n    <h2>\n      <a href="',(r=n.url)?r=r.call(e,{hash:{},data:a}):(r=e&&e.url,r=typeof r===u?r.call(e,{hash:{},data:a}):r),l+=d(r)+'" target="_blank">',(r=n.title)?r=r.call(e,{hash:{},data:a}):(r=e&&e.title,r=typeof r===u?r.call(e,{hash:{},data:a}):r),(r||0===r)&&(l+=r),l+='</a>\n      <a href="javascript:void(0)" data-on-click="toggleRead" data-id="',(r=n.id)?r=r.call(e,{hash:{},data:a}):(r=e&&e.id,r=typeof r===u?r.call(e,{hash:{},data:a}):r),l+=d(r)+'" data-feed-id="',(r=n.feed_id)?r=r.call(e,{hash:{},data:a}):(r=e&&e.feed_id,r=typeof r===u?r.call(e,{hash:{},data:a}):r),l+=d(r)+'"><span class="glyphicon ',s={hash:{},data:a},l+=d((r=n.unreadIcon||e&&e.unreadIcon,r?r.call(e,e&&e.unread,s):p.call(e,"unreadIcon",e&&e.unread,s)))+' glyph-sm" data-toggle="tooltip" title="Set ',s={hash:{},data:a},l+=d((r=n.unreadLabel||e&&e.unreadLabel,r?r.call(e,e&&e.unread,s):p.call(e,"unreadLabel",e&&e.unread,s)))+'"></span></a>\n    </h2>\n  </div>\n  <div class="feed-content panel-body">\n    <div class="text-muted"><em>by ',(o=n.author)?o=o.call(e,{hash:{},data:a}):(o=e&&e.author,o=typeof o===u?o.call(e,{hash:{},data:a}):o),l+=d(o)+'</em>\n      <div class="pull-right">\n        <abbr class="timeago" title="',(o=n.published)?o=o.call(e,{hash:{},data:a}):(o=e&&e.published,o=typeof o===u?o.call(e,{hash:{},data:a}):o),l+=d(o)+'">\n          <em>',s={hash:{},data:a},l+=d((r=n.readableDate||e&&e.readableDate,r?r.call(e,e&&e.published,s):p.call(e,"readableDate",e&&e.published,s)))+"</em>\n        </abbr>\n      </div>\n    </div>\n    ",(o=n.content)?o=o.call(e,{hash:{},data:a}):(o=e&&e.content,o=typeof o===u?o.call(e,{hash:{},data:a}):o),(o||0===o)&&(l+=o),l+='\n  </div>\n  <div id="news_nav" class="row">\n    <div class="col-md-12 pull-right">\n      <div class="btn-group pull-right">\n        <a href="',(o=n.prevPath)?o=o.call(e,{hash:{},data:a}):(o=e&&e.prevPath,o=typeof o===u?o.call(e,{hash:{},data:a}):o),l+=d(o)+'" class="btn btn-default ',(o=n.noPrev)?o=o.call(e,{hash:{},data:a}):(o=e&&e.noPrev,o=typeof o===u?o.call(e,{hash:{},data:a}):o),l+=d(o)+'">\n          <span class="glyphicon glyphicon-chevron-left"></span>\n        </a>\n        <a href="',(o=n.nextPath)?o=o.call(e,{hash:{},data:a}):(o=e&&e.nextPath,o=typeof o===u?o.call(e,{hash:{},data:a}):o),l+=d(o)+'" class="btn btn-default ',(o=n.noNext)?o=o.call(e,{hash:{},data:a}):(o=e&&e.noNext,o=typeof o===u?o.call(e,{hash:{},data:a}):o),l+=d(o)+'">\n          <span class="glyphicon glyphicon-chevron-right"></span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.HandlebarsTemplates.newsitem}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.notification=Handlebars.template(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var r,o="",s="function",l=this.escapeExpression;return o+='<div class="alert fade alert-float alert-',(r=n.type)?r=r.call(e,{hash:{},data:a}):(r=e&&e.type,r=typeof r===s?r.call(e,{hash:{},data:a}):r),o+=l(r)+'" id="',(r=n.id)?r=r.call(e,{hash:{},data:a}):(r=e&&e.id,r=typeof r===s?r.call(e,{hash:{},data:a}):r),o+=l(r)+'">\n<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n',(r=n.text)?r=r.call(e,{hash:{},data:a}):(r=e&&e.text,r=typeof r===s?r.call(e,{hash:{},data:a}):r),(r||0===r)&&(o+=r),o+="\n</div>\n"}),this.HandlebarsTemplates.notification}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.spinner=Handlebars.template(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var r,o="",s="function",l=this.escapeExpression;return o+='<span class="pull-right"><img src="',(r=n.spinner)?r=r.call(e,{hash:{},data:a}):(r=e&&e.spinner,r=typeof r===s?r.call(e,{hash:{},data:a}):r),o+=l(r)+'"/></span>\n'}),this.HandlebarsTemplates.spinner}.call(this),window.Shreds={$:$({}),components:[],init:function(){this.components.forEach(function(t){this[t].init.call(this[t]);for(var e in this[t].events)this.$.on(e,this[t].events[e].bind(this[t]))}.bind(this))},render:function(t,e,n){var i=arguments[3]||{},a=window.HandlebarsTemplates[e](n);this.$.trigger("shreds:prerender"),i.append?t.append(a):t.html(a),this.$.trigger("shreds:postrender")},syncView:function(t){var e=arguments[1]||Shreds.model.get(t),n=arguments[2]||{},i=$('[data-template="'+t+'"]');this.render(i,t,e,n)}},function(t){"use strict";function e(e){return function(n){var i=$(this),a=i.data(e);if(a){if("init"===a)throw"Can't call init from events.";t.action[a].call(i,n)}}}var n="action",i={click:e("onClick"),mouseenter:e("onMouseenter"),mouseleave:e("onMouseleave"),mouseover:e("onMouseover"),mousedown:e("onMousedown"),mouseup:e("onMouseup"),keyup:e("onKeyup"),keydown:e("onKeydown")},a=!0,r=$("#subscribeInput"),o=$("#subscribe_form"),s=null;t.components.push(n),t[n]={init:function(){var t=$(document);for(var e in i)t.on(e,"[data-on-"+e+"]",i[e])},doNotPropagate:function(t){t.stopPropagation()},navigated:function(){t.navigation.deactivate(s),s=this.data("feedId"),t.navigation.activate(s),this.find(".feed-title > a").trigger("click")},toTheFront:function(){t.navigation.deactivate(s),s=null,this.addClass("active"),this.find("a").trigger("click")},markAsRead:function(){var e=this.data("id");t.render(this.siblings(".favicon"),"spinner",{spinner:t.assets.path("spinner16x16")}),t.ajax.patch("/i/feeds/"+e+"/mark_as_read.json",{doWatch:!0,failMsg:"<strong>Can't</strong> mark this feed as read."}).fail(function(){t.syncView("navigation")})},removeCategory:function(){var e=this.data("id");t.ajax.delete("/i/categories/"+e+".json",{doWatch:!0,failMsg:"<strong>Can't</strong> remove this category."})},subscribeTo:function(e){var n=$("#feed_url"),i=$("#category_name");e.preventDefault(),r.is(":hidden")?(r.slideDown(),n.focus()):(t.subscription.startSpinner(this[0]),t.ajax.post("/i/feeds.json",{doWatch:!0,opts:{data:o.find("form").serialize()},failMsg:"<strong>Can't</strong> add feed at the moment."}).fail(function(){t.subscription.stopSpinner()}),n.val(""),i.val(""),r.slideUp())},toggleRead:function(){var e=this.data("id"),n=this.data("feedId");t.ajax.patch("/i/feeds/"+n+"/"+e+"/toggle_read.json",{failMsg:"<strong>Can't mark</strong> this item as read."}).done(function(e){var i=t.model.find("navigation/categories/feeds",n);i.unreadCount=e.feed.unreadCount,t.syncView("navigation"),this.find(".glyphicon").toggleClass("glyphicon-ok-circle").toggleClass("glyphicon-ok-sign"),t.notification.info(e.info),t.$.trigger("feeds:_storage:clear")}.bind(this))},unsubscribe:function(){var e=this.data("id");t.ajax.delete("/i/feeds/"+e+".json",{doWatch:!0,failMsg:"<strong>Can't</strong> unsubscribe to this feed."})},uploadOPML:function(){$("#fileupload").trigger("click")},needSlideUp:function(){r.is(":visible")&&a&&r.slideUp()},amOut:function(t){return 0===o.has(t.target).length?(a=!0,void 0):(a=!1,void 0)}}}(window.Shreds),function(t){var e="ajax";t.components.push(e),t[e]={init:function(){$.ajaxPrefilter(function(t,e,n){if(!t.crossDomain){var i=$('meta[name="csrf-token"]').attr("content");i&&n.setRequestHeader("X-CSRF-Token",i)}})},"do":function(e,n){var i=$.ajax(e,n.opts);return n.doWatch&&i.done(function(e){e&&e.watch&&t.watch.add(e.watch)}),n.failMsg&&i.fail(function(){t.notification.error(arguments[2]||n.failMsg)}),i},get:function(t,e){var n=$.extend(!0,{},e,{opts:{type:"GET"}});return this.do(t,n)},post:function(t,e){var n=$.extend(!0,{},e,{opts:{type:"POST"}});return this.do(t,n)},patch:function(t,e){var n=$.extend(!0,{},e,{opts:{type:"PATCH"}});return this.do(t,n)},"delete":function(t,e){var n=$.extend(!0,{},e,{opts:{type:"DELETE"}});return this.do(t,n)}}}(window.Shreds),function(t){var e="assets",n={};t.components.push(e),t[e]={init:function(){},add:function(t,e){return n[t]=e,this},path:function(t){return n[t]},url:function(t){return"url("+n[t]+")"}}}(window.Shreds),function(t){"use strict";function e(e,i){return a.attr("data-template",e),s[i]?(n(e,s[i]),void 0):(t.ajax.get(i,{failMsg:"<strong>Can't connect</strong> to server"}).done(function(t){s[i]=t,n(e,t)}),void 0)}function n(e,n){a.removeClass("in").addClass("fade"),t.model.import(e,n,{context:"feeds"}),setTimeout(function(){t.syncView(e)},450),document.title="[shreds] - "+(n.title||"Feeds"),o.scrollTop()>0&&r.stop(!0,!0).animate({scrollTop:0},850),setTimeout(function(){a.addClass("in")},450)}var i="feeds",a=$(".span-fixed-sidebar"),r=$("body,html"),o=$(window),s={};t.components.push(i),t[i]={init:function(){},events:{"feeds:_storage:clear":function(){for(var t in s)delete s[t]},"feeds:render:index":function(){e("feeds/index","/i/feeds.json")},"feeds:render:page":function(t,n){e("feeds/index","/i/feeds/page/"+n.page+".json")},"feed:render:show":function(t,n){e("feeds/show","/i/feeds/"+n.id+".json")},"feed:render:page":function(t,n){e("feeds/show","/i/feeds/"+n.id+"/page/"+n.page+".json")},"newsitem:render:show":function(t,n){e("newsitem","/i/feeds/"+n.feed_id+"/"+n.id+".json")},"watch:markAsRead":function(t,e){$("a[data-feed-id="+e.feed.id+"] > span.glyphicon-ok-circle").removeClass("glyphicon-ok-circle").addClass("glyphicon-ok-sign").data("title","Set unread")}}}}(window.Shreds),function(t){"mode strict";function e(t,e){if(e&&e.context){var n=r[e.context];if(n){for(var o in a)o.slice(0,n.length+1)==n+"/"?delete a[o]:o.slice(0,n.length+i.length+1)==i+n+"/"&&delete a[o];delete a[n],delete a[i+n]}r[e.context]=t}}var n="model",i="$idx:-",a={},r={};t.components.push(n),t[n]={init:function(){},"import":function(t,n,r){if(e(t,r),n instanceof Array){var o=i+t;a[o]||(a[o]={}),a[o]=n.reduce(function(t,e){return t[e.id]=e,t},a[o]),n.forEach(function(e){for(var n in e.has)this.import.call(this,t+"/"+e.has[n],e[e.has[n]])}.bind(this))}else if("object"==typeof n){a[t]=n;for(var s in n)this.import.call(this,t+"/"+s,n[s])}},find:function(t,e){return a[i+t][e]
},get:function(t){return a[t]}}}(window.Shreds),function(t){"use strict";function e(e){e.error?t.notification.error(e.error):(t.model.import(n,e.data),t.syncView(n),t.notification.info(e.info))}var n="navigation";t.components.push(n),t[n]={events:{"watch:markAsRead":function(e,i){if(i.error)t.notification.error(i.error);else{var a=t.model.find("navigation/categories/feeds",i.feed.id);a.unreadCount=i.feed.unreadCount,t.notification.info(i.info),t.syncView(n)}},"watch:create":function(n,i){e(i),t.subscription.stopSpinner()},"watch:destroy":function(t,n){e(n)},"watch:rmCategory":function(t,n){e(n)},"watch:opml":function(t,n){e(n),$("#fileupload").trigger("spinnerstop")},"watch:updateFeed":function(t,n){e(n)}},init:function(){t.syncView(n)},activate:function(e){var n=t.model.find("navigation/categories/feeds",e);n.active=" active",$(".nav-item[data-feed-id="+e+"]").addClass("active")},deactivate:function(e){if(e){var n=t.model.find("navigation/categories/feeds",e);n.active=!1,$(".nav-item[data-feed-id="+e+"]").removeClass("active")}else $(".nav-item").each(function(){var e=t.model.find("navigation/categories/feeds",$(this).data("feedId"));e.active=!1}).removeClass("active"),$(".nav-header.active").removeClass("active")}}}(window.Shreds),function(t){"use strict";function e(e,i){var a=t.utils.generateId(n),r=null;t.syncView(n,{text:i,type:e,id:a},{append:!0}),setTimeout(function(){r=$("#"+a).addClass("in")},150),setTimeout(function(){r.removeClass("in")},5150),setTimeout(function(){r.remove()},6300)}var n="notification";t.components.push(n),t[n]={init:function(){},error:function(t){e("danger",t)},info:function(t){e("info",t)}}}(window.Shreds),function(t,e){var n="routes";t.components.push(n),t[n]={init:function(){var n=new e({debug:!1,anchor:t.$});n.define("/","feeds:render:index"),n.define("/page/:page","feeds:render:page"),n.define("/:id","feed:render:show"),n.define("/:id/page/:page","feed:render:page"),n.define("/:feed_id/:id","newsitem:render:show"),$("meta[name=pre-rendered]").attr("value")||n.dispatch()}}}(window.Shreds,window.Router),function(t){"use strict";function e(){var e=Ladda.create($(".fileinput-button")[0]);$("#fileupload").fileupload({dataType:"json"}).on("fileuploadstart",function(){e.start()}).on("fileuploaddone",function(n,i){var a=i.result;a&&a.error?(t.notification.error(a.error),e.stop()):a&&a.watch&&t.watch.add(a.watch)}).on("fileuploadfail",function(){t.notification.error("<strong>Can't</strong> upload file."),e.stop()}).on("spinnerstop",function(){e.stop()})}var n="subscription",i=null;t.components.push(n),t[n]={startSpinner:function(t){i=Ladda.create(t),i.start()},stopSpinner:function(){i.stop()},init:function(){e()}}}(window.Shreds),function(t){"mode strict";var e="utils",n=0,i="shreds-";t.components.push(e),t[e]={init:function(){},events:{"shreds:prerender":function(){t.utils.tooltip("destroy"),t.utils.timeago("dispose")},"shreds:postrender":function(){t.utils.tooltip({container:"body"}),t.utils.timeago()}},generateId:function(t){return i+t+"-"+n++},tooltip:function(t){$("[data-toggle=tooltip]").tooltip(t)},timeago:function(t){$("abbr.timeago").timeago(t)}}}(window.Shreds),function(t){"use strict";function e(i){i&&this.list.push(i),0!==this.list.length&&$.ajax("/i/watch.json",{data:{watchList:this.list.join()}}).done(function(e){t.$.trigger("feeds:_storage:clear");for(var i in e){var a=i.split("-")[0];t.$.trigger(n+":"+a,e[i])}this.list=this.list.filter(function(t){return!e[t]})}.bind(this)).fail(function(){return i?(this.list.shift(),void 0):(setTimeout(e.bind(this),2e3),void 0)}.bind(this))}var n="watch";t.components.push(n),t[n]={list:[],add:function(t){this.list.push(t),setTimeout(e.bind(this),1e3)},init:function(){setInterval(e.bind(this,"updateFeed"),6e5)}}}(window.Shreds),$(window.Shreds.init.bind(window.Shreds));